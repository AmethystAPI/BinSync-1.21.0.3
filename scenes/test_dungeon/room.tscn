[gd_scene load_steps=19 format=3 uid="uid://bh3awkciiraoa"]

[ext_resource type="TileSet" uid="uid://bld12ktwfgg6s" path="res://TestTileset.tres" id="1_cwqgr"]
[ext_resource type="Script" path="res://scripts/Room.cs" id="1_pherh"]
[ext_resource type="PackedScene" uid="uid://biycaes0pxrav" path="res://scenes/enemies/slime.tscn" id="2_ab8p0"]
[ext_resource type="PackedScene" uid="uid://cyw25dxitniij" path="res://scenes/enemies/big_slime.tscn" id="2_aewnh"]
[ext_resource type="PackedScene" uid="uid://cyh55k213w7y7" path="res://scenes/weapons/sword.tscn" id="3_6spq0"]
[ext_resource type="PackedScene" uid="uid://dnsnl644enbf0" path="res://scenes/weapons/bow.tscn" id="5_f7wxi"]
[ext_resource type="PackedScene" uid="uid://bb261ce2j3ht2" path="res://scenes/weapons/hammer.tscn" id="5_jgg8f"]
[ext_resource type="PackedScene" uid="uid://bmfge0rr6uma6" path="res://scenes/trinkets/faith_trinket.tscn" id="7_qgkeg"]
[ext_resource type="PackedScene" uid="uid://dqbq373kspp30" path="res://scenes/trinkets/strength_trinket.tscn" id="8_yy8yn"]
[ext_resource type="PackedScene" uid="uid://c2ch8e83mu0et" path="res://scenes/trinkets/swiftness_trinket.tscn" id="9_18a37"]
[ext_resource type="Texture2D" uid="uid://dign4aks2nwf3" path="res://sprites/testing_tileset.aseprite" id="10_svavk"]
[ext_resource type="Script" path="res://scripts/Entrance.cs" id="10_u7ees"]
[ext_resource type="Script" path="res://scripts/Exit.cs" id="12_ud78m"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3y62c"]
size = Vector2(128, 128)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wcnv7"]
size = Vector2(32, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7076x"]
size = Vector2(16, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_30ode"]
size = Vector2(32, 15)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gwd80"]
size = Vector2(16, 32)

[node name="Room" type="Node2D" node_paths=PackedStringArray("SpawnPoints", "EdgeTileMaps", "Entrances", "Exits")]
y_sort_enabled = true
script = ExtResource("1_pherh")
EnemyScenes = Array[PackedScene]([ExtResource("2_aewnh"), ExtResource("2_ab8p0"), ExtResource("2_ab8p0")])
LootScenes = Array[PackedScene]([ExtResource("3_6spq0"), ExtResource("5_f7wxi"), ExtResource("5_jgg8f"), ExtResource("7_qgkeg"), ExtResource("8_yy8yn"), ExtResource("9_18a37")])
SpawnPoints = [NodePath("SpawnPoints/Point1"), NodePath("SpawnPoints/Point2"), NodePath("SpawnPoints/Point3"), NodePath("SpawnPoints/Point4")]
EdgeTileMapDirections = PackedVector2Array(-1, 0, 1, 0, 0, -1, 0, 1)
EdgeTileMaps = [NodePath("TileMapLeft"), NodePath("TileMapRight"), NodePath("TileMapTop"), NodePath("TileMapBottom")]
EntranceDirections = PackedVector2Array(0, 1, 1, 0, -1, 0)
Entrances = [NodePath("Entrances/Down"), NodePath("Entrances/Right"), NodePath("Entrances/Left")]
ExitDirections = PackedVector2Array(0, -1, 1, 0, -1, 0)
Exits = [NodePath("Exits/Up"), NodePath("Exits/Right"), NodePath("Exits/Left")]

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_cwqgr")
format = 2
layer_0/name = "Walls"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(393211, 655360, 4, 393212, 655360, 4, 393213, 655360, 4, 327681, 589824, 4, 327682, 655360, 4, 327683, 655360, 4, 327684, 655360, 4, 393214, 720896, 4, -5, 720896, 4, -65532, 589824, 4, -196612, 655360, 4, -196611, 655360, 4, -196610, 720896, 4, -262143, 589824, 4, -262142, 655360, 4, -262141, 655360, 4, -262149, 655360, 0, -262148, 655360, 0, -262147, 655360, 0, -262146, 655360, 0, -327679, 655360, 0, -327678, 655360, 0, -327677, 655360, 0, -327676, 655360, 0, 131067, 655360, 0, 65540, 655360, 0, 262145, 655360, 0, 262146, 655360, 0, 262147, 655360, 0, 327676, 655360, 0, 327677, 655360, 0, 327678, 655360, 0, 262148, 589824, 3, 196612, 589824, 3, 131076, 589824, 3, 327675, 720896, 3, 262139, 720896, 3, 196603, 720896, 3, -65541, 720896, 3, -131077, 720896, 3, -196613, 720896, 3, -262140, 589824, 3, -196604, 589824, 3, -131068, 589824, 3)
layer_1/name = "Roofs"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(-262149, 327680, 1, -196613, 196608, 2, -131077, 196608, 2, -65541, 196608, 3, 131067, 196608, 1, 196603, 196608, 2, 262139, 196608, 2, 327675, 327680, 3, -262148, 131072, 3, 327676, 131072, 1, -262147, 131072, 3, 327677, 131072, 1, -262146, 196608, 3, 327678, 196608, 1, -327679, 65536, 3, 262145, 65536, 1, -327678, 131072, 3, 262146, 131072, 1, -327677, 131072, 3, 262147, 131072, 1, -327676, 458752, 1, -262140, 65536, 2, -196604, 65536, 2, -131068, 65536, 3, 65540, 65536, 1, 131076, 65536, 2, 196612, 65536, 2, 262148, 458752, 3)

[node name="TileMapLeft" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_cwqgr")
format = 2
layer_0/name = "Walls"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(131067, 720896, 3, 65531, 720896, 3, -5, 720896, 3, -65541, 720896, 3)
layer_1/name = "Roofs"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(131067, 196608, 2, 65531, 196608, 2, -5, 196608, 2, -65541, 196608, 2)

[node name="TileMapRight" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_cwqgr")
format = 2
layer_0/name = "Walls"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(65540, 589824, 3, 4, 589824, 3, -65532, 589824, 3, -131068, 589824, 3)
layer_1/name = "Roofs"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(65540, 65536, 2, 4, 65536, 2, -65532, 65536, 2, -131068, 65536, 2)

[node name="TileMapTop" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_cwqgr")
format = 2
layer_0/name = "Walls"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(-196609, 655360, 4, -262144, 655360, 4, -262146, 655360, 3, -262145, 655360, 3, -327680, 655360, 3, -327679, 655360, 3, -196610, 655360, 4, -262143, 655360, 4)
layer_1/name = "Roofs"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(-262146, 131072, 3, -262145, 131072, 3, -327680, 131072, 3, -327679, 131072, 3, -327678, 131072, 3)

[node name="TileMapBottom" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_cwqgr")
format = 2
layer_0/name = "Walls"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(393214, 655360, 2, 393215, 655360, 2, 327680, 655360, 2, 327681, 655360, 2, 262146, 655360, 0, 262145, 655360, 0, 262144, 655360, 0, 327679, 655360, 0, 327678, 655360, 0, 327677, 655360, 0, 327676, 655360, 0, 262147, 655360, 0)
layer_1/name = "Roofs"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(327678, 131072, 1, 327679, 131072, 1, 262144, 131072, 1, 262145, 131072, 1, 327677, 131072, 1, 262146, 131072, 1)

[node name="SpawnTriggerArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpawnTriggerArea"]
shape = SubResource("RectangleShape2D_3y62c")

[node name="SpawnPoints" type="Node2D" parent="."]

[node name="Point1" type="Node2D" parent="SpawnPoints"]
position = Vector2(-55, 56)

[node name="Point2" type="Node2D" parent="SpawnPoints"]
position = Vector2(56, 57)

[node name="Point3" type="Node2D" parent="SpawnPoints"]
position = Vector2(56, -47)

[node name="Point4" type="Node2D" parent="SpawnPoints"]
position = Vector2(-55, -47)

[node name="Entrances" type="Node2D" parent="."]

[node name="Down" type="Node2D" parent="Entrances"]
position = Vector2(0, 88)
script = ExtResource("10_u7ees")

[node name="Visuals" type="StaticBody2D" parent="Entrances/Down"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entrances/Down/Visuals"]
position = Vector2(0, -16)
shape = SubResource("RectangleShape2D_wcnv7")

[node name="Sprite2D" type="Sprite2D" parent="Entrances/Down/Visuals"]
position = Vector2(-8, -8)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D2" type="Sprite2D" parent="Entrances/Down/Visuals"]
position = Vector2(8, -8)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Right" type="Node2D" parent="Entrances"]
position = Vector2(80, 0)
script = ExtResource("10_u7ees")

[node name="Visuals" type="StaticBody2D" parent="Entrances/Right"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entrances/Right/Visuals"]
position = Vector2(-8, 8)
shape = SubResource("RectangleShape2D_7076x")

[node name="Sprite2D" type="Sprite2D" parent="Entrances/Right/Visuals"]
position = Vector2(-8, 8)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D2" type="Sprite2D" parent="Entrances/Right/Visuals"]
position = Vector2(-8, 24)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Left" type="Node2D" parent="Entrances"]
position = Vector2(-80, 0)
script = ExtResource("10_u7ees")

[node name="Visuals" type="StaticBody2D" parent="Entrances/Left"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entrances/Left/Visuals"]
position = Vector2(8, 8)
shape = SubResource("RectangleShape2D_7076x")

[node name="Sprite2D" type="Sprite2D" parent="Entrances/Left/Visuals"]
position = Vector2(8, 8)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D2" type="Sprite2D" parent="Entrances/Left/Visuals"]
position = Vector2(8, 24)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Exits" type="Node2D" parent="."]

[node name="Up" type="StaticBody2D" parent="Exits"]
position = Vector2(0, -79)
collision_layer = 2
collision_mask = 0
script = ExtResource("12_ud78m")
Direction = Vector2(0, -1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/Up"]
position = Vector2(0, 6.5)
shape = SubResource("RectangleShape2D_30ode")

[node name="Sprite2D" type="Sprite2D" parent="Exits/Up"]
position = Vector2(-8, 14)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D2" type="Sprite2D" parent="Exits/Up"]
position = Vector2(8, 14)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Right" type="StaticBody2D" parent="Exits"]
position = Vector2(80, 0)
collision_layer = 2
collision_mask = 0
script = ExtResource("12_ud78m")
Direction = Vector2(1, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/Right"]
position = Vector2(-8, 8)
shape = SubResource("RectangleShape2D_gwd80")

[node name="Sprite2D2" type="Sprite2D" parent="Exits/Right"]
position = Vector2(-8, 8)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D" type="Sprite2D" parent="Exits/Right"]
position = Vector2(-8, 24)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Left" type="StaticBody2D" parent="Exits"]
position = Vector2(-80, 0)
collision_layer = 2
collision_mask = 0
script = ExtResource("12_ud78m")
Direction = Vector2(-1, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/Left"]
position = Vector2(8, 8)
shape = SubResource("RectangleShape2D_gwd80")

[node name="Sprite2D2" type="Sprite2D" parent="Exits/Left"]
position = Vector2(8, 8)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D" type="Sprite2D" parent="Exits/Left"]
position = Vector2(8, 24)
texture = ExtResource("10_svavk")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)
