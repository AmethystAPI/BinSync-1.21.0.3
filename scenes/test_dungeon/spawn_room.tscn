[gd_scene load_steps=7 format=3 uid="uid://dqa6mjnknyfr7"]

[ext_resource type="Script" path="res://scripts/SpawnRoom.cs" id="1_3rcqa"]
[ext_resource type="Script" path="res://scripts/Exit.cs" id="3_pgmik"]
[ext_resource type="Texture2D" uid="uid://dign4aks2nwf3" path="res://sprites/testing_tileset.aseprite" id="3_ulsji"]
[ext_resource type="TileSet" uid="uid://bld12ktwfgg6s" path="res://TestTileset.tres" id="9_138rf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3y62c"]
size = Vector2(128, 128)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ucls4"]
size = Vector2(32, 14)

[node name="SpawnRoom" type="Node2D" node_paths=PackedStringArray("SpawnPoints", "EdgeTileMaps", "Entrances", "Exits")]
y_sort_enabled = true
script = ExtResource("1_3rcqa")
SpawnPoints = []
EdgeTileMaps = []
Entrances = []
ExitDirections = PackedVector2Array(0, -1)
Exits = [NodePath("Exits/Up")]

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("9_138rf")
format = 2
layer_0/name = "Walls"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(393211, 655360, 4, 393212, 655360, 4, 393213, 655360, 4, 327682, 655360, 4, 327683, 655360, 4, 327684, 655360, 4, -196612, 655360, 4, -196611, 655360, 4, -196610, 720896, 4, -262143, 589824, 4, -262142, 655360, 4, -262141, 655360, 4, -262149, 655360, 0, -262148, 655360, 0, -262147, 655360, 0, -262146, 655360, 0, -327679, 655360, 0, -327678, 655360, 0, -327677, 655360, 0, -327676, 655360, 0, 262145, 655360, 0, 262146, 655360, 0, 262147, 655360, 0, 327676, 655360, 0, 327677, 655360, 0, 327678, 655360, 0, 262148, 589824, 3, 196612, 589824, 3, 131076, 589824, 3, 327675, 720896, 3, 262139, 720896, 3, 196603, 720896, 3, -65541, 720896, 3, -131077, 720896, 3, -196613, 720896, 3, -262140, 589824, 3, -196604, 589824, 3, -131068, 589824, 3, 393214, 655360, 2, 393215, 655360, 2, 327680, 655360, 2, 327681, 655360, 2, 262144, 655360, 0, 327679, 655360, 0, 65540, 589824, 3, 4, 589824, 3, -65532, 589824, 3, 131067, 720896, 3, 65531, 720896, 3, -5, 720896, 3)
layer_1/name = "Roofs"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(-262149, 327680, 1, -196613, 196608, 2, -131077, 196608, 2, -65541, 196608, 2, 131067, 196608, 2, 196603, 196608, 2, 262139, 196608, 2, 327675, 327680, 3, -262148, 131072, 3, 327676, 131072, 1, -262147, 131072, 3, 327677, 131072, 1, -262146, 196608, 3, 327678, 131072, 1, -327679, 65536, 3, 262145, 131072, 1, -327678, 131072, 3, 262146, 131072, 1, -327677, 131072, 3, 262147, 131072, 1, -327676, 458752, 1, -262140, 65536, 2, -196604, 65536, 2, -131068, 65536, 2, 65540, 65536, 2, 131076, 65536, 2, 196612, 65536, 2, 262148, 458752, 3, 327679, 131072, 1, 262144, 131072, 1, -5, 196608, 2, 65531, 196608, 2, -65532, 65536, 2, 4, 65536, 2)

[node name="SpawnTriggerArea" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpawnTriggerArea"]
shape = SubResource("RectangleShape2D_3y62c")

[node name="SpawnPoints" type="Node2D" parent="."]

[node name="Point1" type="Node2D" parent="SpawnPoints"]
position = Vector2(-55, 56)

[node name="Point2" type="Node2D" parent="SpawnPoints"]
position = Vector2(56, 57)

[node name="Point3" type="Node2D" parent="SpawnPoints"]
position = Vector2(56, -47)

[node name="Point4" type="Node2D" parent="SpawnPoints"]
position = Vector2(-55, -47)

[node name="Exits" type="Node2D" parent="."]

[node name="Up" type="StaticBody2D" parent="Exits"]
position = Vector2(0, -79)
collision_layer = 2
collision_mask = 0
script = ExtResource("3_pgmik")
Direction = Vector2(0, -1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/Up"]
position = Vector2(0, 7)
shape = SubResource("RectangleShape2D_ucls4")

[node name="Sprite2D" type="Sprite2D" parent="Exits/Up"]
position = Vector2(-8, 14)
texture = ExtResource("3_ulsji")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)

[node name="Sprite2D2" type="Sprite2D" parent="Exits/Up"]
position = Vector2(8, 14)
texture = ExtResource("3_ulsji")
offset = Vector2(0, -12)
region_enabled = true
region_rect = Rect2(224, 40, 16, 24)
