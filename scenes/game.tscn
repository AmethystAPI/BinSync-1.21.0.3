[gd_scene load_steps=30 format=3 uid="uid://cmcc8d5h27qfv"]

[ext_resource type="Script" path="res://scripts/Game.cs" id="1_sq6vk"]
[ext_resource type="PackedScene" uid="uid://01apx66cyccg" path="res://scenes/player.tscn" id="2_nxqs3"]
[ext_resource type="Script" path="res://scripts/networking/NetworkManager.cs" id="3_ix04k"]
[ext_resource type="PackedScene" uid="uid://c5284u6x7my5h" path="res://scenes/ui/game_ui.tscn" id="3_s7l32"]
[ext_resource type="Script" path="res://scripts/Camera.cs" id="4_encmg"]
[ext_resource type="Script" path="res://scripts/rooms/WorldGenerator.cs" id="4_x66nk"]
[ext_resource type="Shader" path="res://etherial.gdshader" id="5_4da55"]
[ext_resource type="Resource" uid="uid://bd558yb1sqa64" path="res://resources/room_placers/room_placer_golden_grove_spawn.tres" id="6_mvk5j"]
[ext_resource type="Resource" uid="uid://cxjlmqc8lrkdi" path="res://resources/room_placers/room_placer_golden_grove_plain.tres" id="7_cebmk"]
[ext_resource type="PackedScene" uid="uid://dpb2vij815fs3" path="res://scenes/ui/main_menu.tscn" id="7_gnxd7"]
[ext_resource type="PackedScene" uid="uid://duii65kqioaqg" path="res://scenes/items/trinkets/trinket_faith.tscn" id="8_88fnx"]
[ext_resource type="Script" path="res://scripts/TrinketRealm.cs" id="9_vc1vq"]
[ext_resource type="PackedScene" uid="uid://dnsnl644enbf0" path="res://scenes/items/weapons/bow.tscn" id="12_tesvq"]
[ext_resource type="PackedScene" uid="uid://c2ch8e83mu0et" path="res://scenes/items/trinkets/swiftness_trinket.tscn" id="13_2ai8n"]
[ext_resource type="PackedScene" uid="uid://bb261ce2j3ht2" path="res://scenes/items/weapons/hammer.tscn" id="13_js758"]
[ext_resource type="Script" path="res://scripts/Delay.cs" id="13_l8fec"]
[ext_resource type="PackedScene" uid="uid://dqbq373kspp30" path="res://scenes/items/trinkets/strength_trinket.tscn" id="13_tgw0v"]
[ext_resource type="PackedScene" uid="uid://biycaes0pxrav" path="res://scenes/enemies/slime.tscn" id="15_pi7jw"]
[ext_resource type="PackedScene" uid="uid://cyh55k213w7y7" path="res://scenes/items/weapons/sword.tscn" id="15_xrri3"]
[ext_resource type="PackedScene" uid="uid://k1sviiopk4x1" path="res://scenes/enemies/stone_golem.tscn" id="16_a1dbg"]
[ext_resource type="PackedScene" uid="uid://ctwrqefjr5llm" path="res://scenes/enemies/crow.tscn" id="17_yoxty"]
[ext_resource type="Script" path="res://scripts/Audio.cs" id="22_ko2sk"]
[ext_resource type="AudioStream" uid="uid://cx0s4ifhqsfxk" path="res://sfx/sfx_sounds_impact1.wav" id="23_8eois"]
[ext_resource type="AudioStream" uid="uid://d4k7170tc0for" path="res://sfx/death_1.wav" id="24_0d0le"]
[ext_resource type="AudioStream" uid="uid://cu08ot2vuhs46" path="res://sfx/hurt.wav" id="25_4ymc8"]
[ext_resource type="AudioStream" uid="uid://cn0404ityj1ib" path="res://sfx/swing2.wav" id="25_jarow"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_yfm5y"]
seed = 1

[sub_resource type="NoiseTexture3D" id="NoiseTexture3D_or4pi"]
width = 128
height = 128
depth = 128
seamless = true
seamless_blend_skirt = 0.2
noise = SubResource("FastNoiseLite_yfm5y")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_d1o6u"]
shader = ExtResource("5_4da55")
shader_parameter/color = Color(0.0392157, 0.0235294, 0.0862745, 1)
shader_parameter/color2 = Color(0, 0, 0, 1)
shader_parameter/star_color = Color(0.741176, 0.796078, 1, 1)
shader_parameter/size = Vector2(1920, 1080)
shader_parameter/noise = SubResource("NoiseTexture3D_or4pi")

[node name="Game" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_sq6vk")
PlayerScene = ExtResource("2_nxqs3")
TrinketRoomInterval = 15
LootRoomInterval = 6

[node name="Audio" type="Node" parent="."]
script = ExtResource("22_ko2sk")
Sounds = [ExtResource("23_8eois"), ExtResource("24_0d0le"), ExtResource("25_4ymc8"), ExtResource("25_jarow")]
SoundIds = PackedStringArray("player_damage", "enemy_die", "projectile_hit", "weapon_shoot")
SoundVolumes = PackedFloat32Array(-4, 0, -8, -12)

[node name="NetworkManager" type="Node" parent="."]
script = ExtResource("3_ix04k")

[node name="Camera" type="Camera2D" parent="."]
process_priority = 1
process_physics_priority = 1
zoom = Vector2(4, 4)
script = ExtResource("4_encmg")

[node name="WorldGenerator" type="Node2D" parent="."]
y_sort_enabled = true
script = ExtResource("4_x66nk")
SpawnRoomPlacer = ExtResource("6_mvk5j")
RoomPlacers = Array[Resource]([ExtResource("7_cebmk")])

[node name="TrinketRealm" type="Node2D" parent="." node_paths=PackedStringArray("TrinketBackground")]
z_index = 20
y_sort_enabled = true
script = ExtResource("9_vc1vq")
TrinketScenes = [ExtResource("13_tgw0v"), ExtResource("13_2ai8n"), ExtResource("8_88fnx")]
WeaponScenes = [ExtResource("12_tesvq"), ExtResource("13_js758"), ExtResource("15_xrri3")]
TrinketBackground = NodePath("Stars")
EnemyScenes = [ExtResource("15_pi7jw"), ExtResource("16_a1dbg"), ExtResource("17_yoxty")]

[node name="Stars" type="ColorRect" parent="TrinketRealm"]
modulate = Color(1, 1, 1, 0)
material = SubResource("ShaderMaterial_d1o6u")
offset_left = -963.0
offset_top = -540.0
offset_right = 957.0
offset_bottom = 540.0
mouse_filter = 2

[node name="Background" type="CanvasLayer" parent="."]
layer = -128

[node name="ColorRect" type="ColorRect" parent="Background"]
modulate = Color(0.541176, 0.211765, 0.117647, 1)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameUI" parent="CanvasLayer" node_paths=PackedStringArray("HeartContainer") instance=ExtResource("3_s7l32")]
mouse_filter = 2
HeartContainer = NodePath("HeartContainer")

[node name="MainMenu" parent="CanvasLayer" node_paths=PackedStringArray("ipAdressInput", "hostButton", "joinButton") instance=ExtResource("7_gnxd7")]
visible = false
ipAdressInput = NodePath("TextEdit")
hostButton = NodePath("Host")
joinButton = NodePath("Join")

[node name="Delay" type="Node" parent="."]
script = ExtResource("13_l8fec")
