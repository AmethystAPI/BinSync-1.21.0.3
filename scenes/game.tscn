[gd_scene load_steps=23 format=3 uid="uid://cmcc8d5h27qfv"]

[ext_resource type="Script" path="res://scripts/Game.cs" id="1_sq6vk"]
[ext_resource type="PackedScene" uid="uid://01apx66cyccg" path="res://scenes/player.tscn" id="2_nxqs3"]
[ext_resource type="Script" path="res://scripts/networking/NetworkManager.cs" id="3_ix04k"]
[ext_resource type="PackedScene" uid="uid://c5284u6x7my5h" path="res://scenes/ui/game_ui.tscn" id="3_s7l32"]
[ext_resource type="Script" path="res://scripts/Camera.cs" id="4_encmg"]
[ext_resource type="Script" path="res://scripts/rooms/WorldGenerator.cs" id="4_x66nk"]
[ext_resource type="Shader" path="res://etherial.gdshader" id="5_4da55"]
[ext_resource type="Resource" uid="uid://bd558yb1sqa64" path="res://resources/room_placers/room_placer_golden_grove_spawn.tres" id="6_mvk5j"]
[ext_resource type="PackedScene" uid="uid://dpb2vij815fs3" path="res://scenes/ui/main_menu.tscn" id="7_gnxd7"]
[ext_resource type="Resource" uid="uid://cxjlmqc8lrkdi" path="res://resources/room_placers/room_placer_golden_grove_plain.tres" id="7_wjaw5"]
[ext_resource type="PackedScene" uid="uid://duii65kqioaqg" path="res://scenes/items/trinkets/trinket_faith.tscn" id="8_88fnx"]
[ext_resource type="Resource" uid="uid://gbgsrxpoxttb" path="res://resources/room_placers/room_placer_golden_grove_plain_bottom_right.tres" id="8_qb27n"]
[ext_resource type="Script" path="res://scripts/TrinketRealm.cs" id="9_vc1vq"]
[ext_resource type="Resource" uid="uid://c5jxxc7ceh6f6" path="res://resources/room_placers/room_placer_golden_grove_plain_left_top.tres" id="9_whavy"]
[ext_resource type="Resource" uid="uid://bwka3vkyp1o8j" path="res://resources/room_placers/room_placer_golden_grove_plain_bottom_left.tres" id="10_q5d0h"]
[ext_resource type="Resource" uid="uid://c08mxw0ij40ib" path="res://resources/room_placers/room_placer_golden_grove_plain_right_top.tres" id="11_6kr5k"]
[ext_resource type="PackedScene" uid="uid://c2ch8e83mu0et" path="res://scenes/items/trinkets/swiftness_trinket.tscn" id="13_2ai8n"]
[ext_resource type="Script" path="res://scripts/Delay.cs" id="13_l8fec"]
[ext_resource type="PackedScene" uid="uid://dqbq373kspp30" path="res://scenes/items/trinkets/strength_trinket.tscn" id="13_tgw0v"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_yfm5y"]
seed = 1

[sub_resource type="NoiseTexture3D" id="NoiseTexture3D_y3leo"]
width = 128
height = 128
depth = 128
seamless = true
seamless_blend_skirt = 0.2
noise = SubResource("FastNoiseLite_yfm5y")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_d1o6u"]
shader = ExtResource("5_4da55")
shader_parameter/color = Color(0.0392157, 0.0235294, 0.0862745, 1)
shader_parameter/color2 = Color(0, 0, 0, 1)
shader_parameter/star_color = Color(0.741176, 0.796078, 1, 1)
shader_parameter/size = Vector2(1920, 1080)
shader_parameter/noise = SubResource("NoiseTexture3D_y3leo")

[node name="Game" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_sq6vk")
PlayerScene = ExtResource("2_nxqs3")
TrinketRoomInterval = 20
LootRoomInterval = 1

[node name="NetworkManager" type="Node" parent="."]
script = ExtResource("3_ix04k")

[node name="Camera" type="Camera2D" parent="."]
process_priority = 1
process_physics_priority = 1
zoom = Vector2(4, 4)
script = ExtResource("4_encmg")

[node name="WorldGenerator" type="Node2D" parent="."]
y_sort_enabled = true
script = ExtResource("4_x66nk")
SpawnRoomPlacer = ExtResource("6_mvk5j")
RoomPlacers = Array[Resource]([ExtResource("7_wjaw5"), ExtResource("10_q5d0h"), ExtResource("8_qb27n"), ExtResource("9_whavy"), ExtResource("11_6kr5k")])

[node name="TrinketRealm" type="Node2D" parent="." node_paths=PackedStringArray("TrinketBackground", "Flash")]
z_index = 20
y_sort_enabled = true
script = ExtResource("9_vc1vq")
TrinketScenes = [ExtResource("13_tgw0v"), ExtResource("13_2ai8n"), ExtResource("8_88fnx")]
TrinketBackground = NodePath("Stars")
Flash = NodePath("CanvasLayer/Flash")

[node name="Stars" type="ColorRect" parent="TrinketRealm"]
modulate = Color(1, 1, 1, 0)
material = SubResource("ShaderMaterial_d1o6u")
offset_left = -963.0
offset_top = -540.0
offset_right = 957.0
offset_bottom = 540.0

[node name="CanvasLayer" type="CanvasLayer" parent="TrinketRealm"]
layer = 100

[node name="Flash" type="ColorRect" parent="TrinketRealm/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameUI" parent="CanvasLayer" instance=ExtResource("3_s7l32")]

[node name="MainMenu" parent="CanvasLayer" instance=ExtResource("7_gnxd7")]
visible = false

[node name="Background" type="CanvasLayer" parent="."]
layer = -128

[node name="ColorRect" type="ColorRect" parent="Background"]
modulate = Color(0.541176, 0.211765, 0.117647, 1)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Delay" type="Node" parent="."]
script = ExtResource("13_l8fec")
